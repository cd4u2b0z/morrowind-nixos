---
# Install official repository packages

- name: Read package list
  set_fact:
    official_packages: "{{ lookup('file', role_path + '/tasks/packages.txt').split('\n') | select | list }}"

- name: Install official packages
  become: true
  community.general.pacman:
    name: "{{ official_packages }}"
    state: present
  tags:
    - packages
