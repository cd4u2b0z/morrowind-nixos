# GRUVBOX TMUX MUSIC INTERFACE CONFIGURATION
# Triple-monitor optimized music setup

# Gruvbox color scheme
set -g default-terminal "tmux-256color"
set -ag terminal-overrides ",xterm-256color:RGB"

# Gruvbox colors
bg='#282828'
fg='#ebdbb2'
red='#cc241d'
green='#98971a'
yellow='#d79921'
blue='#458588'
purple='#b16286'
aqua='#689d6a'
orange='#d65d0e'

# Status bar configuration optimized for music
set -g status-position top
set -g status-bg "$bg"
set -g status-fg "$fg"
set -g status-interval 2
set -g status-left-length 100
set -g status-right-length 100

# Music-focused status line
set -g status-left "#[fg=$green,bold] #S #[fg=$yellow]ðŸŽµ "
set -g status-right "#[fg=$blue]â™ª #(playerctl metadata --format '{{ artist }} - {{ title }}' 2>/dev/null | cut -c1-40)#[fg=$yellow] | #[fg=$purple]Vol: #(wpctl get-volume @DEFAULT_AUDIO_SINK@ | awk '{print int($2*100)\"%\"}') #[fg=$aqua]%H:%M"

# Window configuration for music workflow
set -g window-status-format "#[fg=$fg] #I:#W "
set -g window-status-current-format "#[fg=$orange,bold] #I:#W "

# Pane borders
set -g pane-border-style "fg=$bg"
set -g pane-active-border-style "fg=$orange"

# Key bindings for music control
bind-key m send-keys 'playerctl play-pause' Enter
bind-key n send-keys 'playerctl next' Enter
bind-key p send-keys 'playerctl previous' Enter
bind-key v send-keys 'wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%+' Enter
bind-key V send-keys 'wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-' Enter

# Triple-monitor layout presets
bind-key 1 new-window -n "Monitor1-Music" \; send-keys 'ncspot' Enter
bind-key 2 new-window -n "Monitor2-Viz" \; split-window -h \; send-keys 'cava' Enter \; select-pane -t 0 \; send-keys 'htop' Enter
bind-key 3 new-window -n "Monitor3-Control" \; send-keys '~/.config/hypr/scripts/gruvbox-music-interface.sh' Enter

# Music session layout
bind-key M new-session -d -s music \; \
    new-window -n "spotify" \; send-keys 'spotify' Enter \; \
    new-window -n "ncspot" \; send-keys 'ncspot' Enter \; \
    new-window -n "cava" \; send-keys 'cava' Enter \; \
    new-window -n "controls" \; send-keys '~/.config/hypr/scripts/gruvbox-music-interface.sh' Enter \; \
    select-window -t 1

# Mouse support for music controls
set -g mouse on

# Copy mode settings
setw -g mode-keys vi
